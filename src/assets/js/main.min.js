!function(e){var i,o=e(window),t=e("head"),a=e("body");breakpoints({xlarge:["1281px","1680px"],large:["981px","1280px"],medium:["737px","980px"],small:["481px","736px"],xsmall:["361px","480px"],xxsmall:[null,"360px"],"xlarge-to-max":"(min-width: 1681px)","small-to-xlarge":"(min-width: 481px) and (max-width: 1680px)"}),o.on("load",(function(){window.setTimeout((function(){a.removeClass("is-preload")}),100)})),o.on("resize",(function(){a.addClass("is-resizing"),clearTimeout(i),i=setTimeout((function(){a.removeClass("is-resizing")}),100)})),browser.canUse("object-fit")&&"safari"!=browser.name||e(".image.object").each((function(){var i=e(this),o=i.children("img");o.css("opacity","0"),i.css("background-image",'url("'+o.attr("src")+'")').css("background-size",o.css("object-fit")?o.css("object-fit"):"cover").css("background-position",o.css("object-position")?o.css("object-position"):"center")}));var s=e("#sidebar"),n=s.children(".inner");breakpoints.on("<=large",(function(){s.addClass("inactive")})),breakpoints.on(">large",(function(){s.removeClass("inactive")})),"android"==browser.os&&"chrome"==browser.name&&e("<style>#sidebar .inner::-webkit-scrollbar { display: none; }</style>").appendTo(t),e('<a href="#sidebar" class="toggle">Toggle</a>').appendTo(s).on("click",(function(e){e.preventDefault(),e.stopPropagation(),s.toggleClass("inactive")})),s.on("click","a",(function(i){if(!breakpoints.active(">large")){var o=e(this),t=o.attr("href"),a=o.attr("target");i.preventDefault(),i.stopPropagation(),t&&"#"!=t&&""!=t&&(s.addClass("inactive"),setTimeout((function(){"_blank"==a?window.open(t):window.location.href=t}),500))}})),s.on("click touchend touchstart touchmove",(function(e){breakpoints.active(">large")||e.stopPropagation()})),a.on("click touchend",(function(e){breakpoints.active(">large")||s.addClass("inactive")})),o.on("load.sidebar-lock",(function(){var e,i;1==o.scrollTop()&&o.scrollTop(0),o.on("scroll.sidebar-lock",(function(){var t,a;breakpoints.active("<=large")?n.data("locked",0).css("position","").css("top",""):(t=Math.max(e-i,0),a=Math.max(0,o.scrollTop()-t),1==n.data("locked")?a<=0?n.data("locked",0).css("position","").css("top",""):n.css("top",-1*t):a>0&&n.data("locked",1).css("position","fixed").css("top",-1*t))})).on("resize.sidebar-lock",(function(){i=o.height(),e=n.outerHeight()+30,o.trigger("scroll.sidebar-lock")})).trigger("resize.sidebar-lock")}));var r=e("#menu").children("ul").find(".opener");r.each((function(){var i=e(this);i.on("click",(function(t){r.filter((function(){return e(this)!==i&&!i.parents().has(e(this))})).removeClass("active"),i.toggleClass("active"),o.triggerHandler("resize.sidebar-lock")}))})),e("#menu a").each((function(){e(this).filter((function(){return e(this).attr("href")===decodeURI(window.location.pathname)})).each((function(){e(this).addClass("active"),e(this).parentsUntil("#menu","ul").siblings(".opener").addClass("active"),e(this).parentsUntil("#menu",".opener").addClass("active")}))}))}(jQuery);
